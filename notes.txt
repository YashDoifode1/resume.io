You are working on a PHP-based Resume Builder web application with a separate Admin Panel.
The project uses core PHP (no framework), PDO, MySQL, and a modular include-based architecture.

âš ï¸ DO NOT change the existing file structure unless explicitly asked.
âš ï¸ DO NOT invent new folders randomly.
âš ï¸ All solutions must align with the existing structure.

ğŸ“ FINAL & FIXED FILE STRUCTURE (DO NOT CHANGE)
resume-builder/
â”‚
â”œâ”€â”€ index.php                     # Main public router
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ constants.php             # Paths, BASE_URL, app config
â”‚   â””â”€â”€ database.php              # PDO connection
â”‚
â”œâ”€â”€ components/                   # Public UI components
â”‚   â”œâ”€â”€ header.php
â”‚   â”œâ”€â”€ navbar.php
â”‚   â””â”€â”€ footer.php
â”‚
â”œâ”€â”€ pages/                        # Public pages
â”‚   â”œâ”€â”€ home.php
â”‚   â”œâ”€â”€ builder.php
â”‚   â”œâ”€â”€ preview.php
â”‚   â”œâ”€â”€ contact.php
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ themes/                       # Resume theme templates
â”‚   â”œâ”€â”€ theme2-modern.php
â”‚   â”œâ”€â”€ theme3-corporate.php
â”‚   â”œâ”€â”€ theme4-creative.php
â”‚   â”œâ”€â”€ theme5-dark.php
â”‚   â”œâ”€â”€ theme6-elegant.php
â”‚   â”œâ”€â”€ theme7-tech.php
â”‚   â”œâ”€â”€ theme8-minimal.php
â”‚   â”œâ”€â”€ theme9-vibrant.php
â”‚   â”œâ”€â”€ theme10-executive.php
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ css/
â”‚   â””â”€â”€ js/
â”‚
â”œâ”€â”€ uploads/                      # User uploads
â”‚
â””â”€â”€ admin/                        # ADMIN PANEL (PROTECTED)
    â”‚
    â”œâ”€â”€ login.php
    â”œâ”€â”€ login-action.php
    â”œâ”€â”€ logout.php
    â”œâ”€â”€ dashboard.php
    â”œâ”€â”€ themes.php                # Theme management
    â”‚
    â”œâ”€â”€ includes/
    â”‚   â”œâ”€â”€ header.php            # Admin layout header
    â”‚   â”œâ”€â”€ sidebar.php           # Admin sidebar
    â”‚   â”œâ”€â”€ topbar.php            # Admin top navigation
    â”‚   â””â”€â”€ footer.php            # Admin footer
    â”‚
    â””â”€â”€ assets/
        â”œâ”€â”€ css/
        â””â”€â”€ js/

ğŸ§© ADMIN LAYOUT RULES (CRITICAL)

Admin pages MUST follow this order:

require 'includes/header.php';
require 'includes/sidebar.php';
require 'includes/topbar.php';

/* PAGE CONTENT */

require 'includes/footer.php';


Sidebar is fixed

Content scrolls

Footer must never behave like sidebar

Footer CSS uses reset strategy (all: unset)

ğŸ—„ï¸ DATABASE SCHEMA (AUTHORITATIVE)
ğŸ” admins
CREATE TABLE admins (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100),
    email VARCHAR(150) UNIQUE,
    password VARCHAR(255),
    role ENUM('admin','super_admin') DEFAULT 'admin',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

ğŸ¨ themes
CREATE TABLE themes (
    id INT AUTO_INCREMENT PRIMARY KEY,
    slug VARCHAR(100) UNIQUE,
    name VARCHAR(150),
    description TEXT,
    icon VARCHAR(10),
    file_name VARCHAR(150),
    is_active TINYINT(1) DEFAULT 1,
    is_premium TINYINT(1) DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);


âš ï¸ If is_premium is referenced, it MUST exist in DB
âš ï¸ Never assume columns â€” always verify schema

ğŸ¯ THEME SYSTEM RULES

Themes are data-driven from DB, NOT hardcoded arrays

Only is_active = 1 themes are shown to users

Admin can:

Add new themes

Upload theme PHP file

Enable / Disable theme

Mark theme as Premium

Public preview loads theme like:

include THEMES_PATH . $theme['file_name'];

ğŸ” AUTH & SECURITY RULES

Sessions MUST start at top of files using $_SESSION

CSRF tokens must be generated & verified

Passwords use password_hash() & password_verify()

Admin pages must check:

if (!isset($_SESSION['admin_id'])) {
    header('Location: login.php');
    exit;
}

ğŸ§  CODING EXPECTATIONS

When fixing or adding features:

âœ… Respect existing structure
âœ… Use PDO prepared statements
âœ… No inline SQL in HTML
âœ… No global CSS leaks
âœ… No breaking UI alignment
âœ… Defensive coding (isset checks)

ğŸ§ª ERROR CONTEXT YOU MAY SEE

Undefined array key â†’ DB column mismatch

Unknown column â†’ Schema not updated

Footer behaving like sidebar â†’ inherited CSS (fix in footer only)

CSRF invalid â†’ session not started or token mismatch

ğŸ§  YOUR TASK (FOR THE AI)

When I ask you to:

Fix a bug

Add a feature

Improve UI

Extend admin functionality

You must:

Analyze existing structure

Identify exact file(s) to modify

Provide drop-in code, not pseudo

Avoid restructuring unless explicitly asked

Explain why the change is safe